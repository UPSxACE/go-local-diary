{{define "index"}} {{template "top"}} {{template "main-navbar" .Name}}
<main
  id="main"
  class="flex flex-col items-center min-h-screen-nav px-5 py-4 md:px-10 md:py-8"
>
  <header
    class="flex w-full max-w-screen-2xl flex-wrap gap-4"
    hx-boost="true"
    hx-push-url="true"
    hx-target="#main"
    hx-select="#main"
    hx-swap="outerHTML show:no-scroll"
  >
    <fieldset
      class="spc-hover lc-input-icon round focusable max-sm:w-full max-xl:w-[calc(50%-0.75rem)] max-2xl:w-[calc(100%/3-1rem)] w-[calc(100%/4-4.5rem/4)]"
    >
    <i class="mr-2" data-feather="search"></i>
      <input
        id="search-notes"
        name="search-notes"
        class="min-w-0"
        type="text"
        placeholder="Search"
      />
    </fieldset>
    <a href="/new" class="lc-btn ml-auto !w-full sm:!w-fit justify-center">Add Note</a>
  </header>
  <section id="notes" class="flex flex-col flex-1 max-w-screen-2xl w-full">
    {{if .Notes}}
    <div
      class="min-h-full min-w-full flex flex-wrap gap-4 md:gap-6 mt-4 md:mt-8 relative"
      hx-boost="true"
      hx-push-url="true"
      hx-target="#main"
      hx-select="#main"
      hx-swap="outerHTML show:window:top"
    >
      {{range .Notes}}
      <a
        href="/note/{{.Id}}"
        class="block max-sm:w-full max-xl:w-[calc(50%-0.75rem)] max-2xl:w-[calc(100%/3-1rem)] w-[calc(100%/4-4.5rem/4)] transition-all duration-200"
      >
        <article class="spc-hover lc-note-preview !w-full !h-full">
          <div class="wrapper">
            <header>
              <span class="date-creation">{{easydate .CreatedAt}}</span>
              <i class="ml-auto menu-icon" data-feather="more-horizontal"></i>
            </header>
            <h1>{{.Title}}</h1>
            <p>{{htmlbreaks .ContentRaw}}</p>
          </div>
        </article>
      </a>
      {{end}}
    </div>
    {{else}}
    <div class="flex flex-col flex-1 w-full justify-center items-center">
      <img
        class="w-[40vw] max-h-[50vh] min-w-[180px]"
        src="/public/img/notes-girl.svg"
        alt="Girl writing notes"
      />
      <h1 class="text-2xl md:text-3xl mt-8 font-medium">
        Go ahead, and add your first note!
      </h1>
    </div>
    {{end}}
  </section>
</main>
{{template "bottom"}} {{end}}
